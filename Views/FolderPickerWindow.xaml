<Window x:Class="ContribCalendar.Views.FolderPickerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="选择文件夹"
        WindowStyle="ToolWindow"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        SizeToContent="Height"
        Width="320"
        Background="#F5F5F5">
    <StackPanel Margin="12">
        <TextBlock Name="DateLabel" FontSize="12" Foreground="#555" Margin="0,0,0,10"/>
        <ItemsControl Name="FolderList">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button Tag="{Binding}"
                            Click="FolderButton_Click"
                            Margin="0,3"
                            HorizontalContentAlignment="Left"
                            Background="White"
                            BorderBrush="#DDD"
                            BorderThickness="1"
                            Padding="8,6"
                            Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="4"
                                        Padding="{TemplateBinding Padding}">
                                    <StackPanel Orientation="Horizontal">
                                        <!-- 文件夹图标 -->
                                        <Grid Width="20" Height="20" Margin="0,0,8,0">
                                            <Path Data="M 0,4 L 0,16 L 20,16 L 20,6 L 10,6 L 8,4 Z"
                                                  Fill="#F5A623"/>
                                            <Path Data="M 0,7 L 0,16 L 20,16 L 20,7 Z"
                                                  Fill="#F7C05A"/>
                                        </Grid>
                                        <TextBlock Text="{Binding Name}" VerticalAlignment="Center"
                                                   FontSize="12" Foreground="#333"
                                                   TextTrimming="CharacterEllipsis"
                                                   MaxWidth="240"/>
                                    </StackPanel>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#EEF4FF"/>
                                        <Setter Property="BorderBrush" Value="#99BBFF"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter Property="Background" Value="#D8E8FF"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </StackPanel>
</Window>
